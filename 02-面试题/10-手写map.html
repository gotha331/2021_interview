<!--
 * @Files: 
 * @Version: 1.0
 * @Author: jiang.liu
 * @Date: 2021-05-20 16:14:29
 * @LastEditors: jiang.liu
 * @LastEditTime: 2021-05-20 16:27:18
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>手写map</title>
</head>
<body>
  <script>
    var arr = [1,2,3,]
    var array = arr.map((item,index) => {
      return item * 2
    })

    console.log(array);

    function map(arr,mapCallback) {
      // 检查参数是否正确
      if(!Array.isArray(arr) || !arr.length || typeof mapCallback !== 'function') {
        return []
      }else {
        // 参数正确，进行下面的操作
        let result = []
        for (let i = 0,len = arr.length;i < len; i++) {
          result.push(mapCallback(arr[i],i,arr))
        }
        return result 
      }
    }

    var newArr = map(arr,(item) => {
      console.log(item);
      return item * 2
    })

    console.log(newArr);
  </script>  
</body>
</html>